<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SoftwareSeekers</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/getAdmin.css">
    <link rel="stylesheet" href="/styles/attribute.css">
</head>
<body>
<div class="header">
    <table >
        <tr>
            <td id="td1">
                <img th:src="@{/photos/1.png}" >
            </td>
            <td id="td2"><ul id="navbar">
                <li><a th:href="@{/admin/adminPage}" style="color:#171717; text-decoration:none">ГЛАВНАЯ СТРАНИЦА</a></li>
                <li><a th:href="@{/logout}" style="color:#171717; text-decoration:none">ВЫЙТИ</a></li>
            </ul></td>
        </tr>
    </table>
</div>
<div class="container">
        <div class="profile">
            <form
                    method="post"
                    role="form"
                    th:action="@{/admin/adminEditProfileEnd}"
                    th:object="${user}"
                    enctype="multipart/form-data"
            >
                <h1>Редактирование данных профиля</h1>
                <input type="hidden" th:field="*{idUserDetails}">
                <input type="hidden" th:field="*{password}">
                <div class="field">
                    <p style="margin-right: 10px"><abbr data-title="Email в локальной части адреса допускает: числовые значения от 0 до 9, только строчные или прописные буквы латинского алфавита,
символы подчеркивания “_”, дефис “-“ и точка “.” (точка не может быть в начале или в конце, а также несколько раз подряд, длина - не более 64 символов. Для доменной части то же самое, только не допускается наличие  “_”">Email</abbr></p>
                    <input
                            id="email"
                            name="email"
                            placeholder="Введите email"
                            th:field="*{email}"
                            type="text"

                    />
                </div>
                <div th:if="${wrongEmail}">
                    <div class="info">
                        Пожалуйста, введите Email в указанном формате!
                    </div>
                </div>
                <div class="field">
                    <label for="surname">Фамилия</label>
                    <input
                            id="surname"
                            name="surname"
                            placeholder="Введите фамилию"
                            th:field="*{surname}"
                            type="text"
                            pattern="([А-Яёа-я -]+)|([\s]+)"
                    />
                    <p th:errors = "*{surname}" class="info"
                       th:if="${#fields.hasErrors('surname')}"></p>
                </div>

                <div class="field">
                    <label for="name">Имя</label>
                    <input
                            id="name"
                            name="name"
                            placeholder="Введите имя"
                            th:field="*{name}"
                            type="text"
                            pattern="([А-Яёа-я -]+)|([\s]+)"
                    />
                    <p th:errors = "*{name}" class="info"
                       th:if="${#fields.hasErrors('name')}"></p>
                </div>
                <div class="field">
                    <label for="patronymic">Отчество</label>
                    <input
                            id="patronymic"
                            name="patronymic"
                            placeholder="Введите отчество"
                            th:field="*{patronymic}"
                            type="text"
                            pattern="([А-Яёа-я -]+)|([\s]+)"
                    />
                    <p th:errors = "*{patronymic}" class="info"
                       th:if="${#fields.hasErrors('patronymic')}"></p>
                </div>
                <div class="field">
                    <label for="birthday">Дата рождения</label>
                    <input
                            style="color: rgb(86, 85, 85);font-size: 14px;"
                            id="birthday"
                            name="birthday"
                            placeholder="Введите дату рождения"
                            th:field="*{birthday}"
                            type="date"
                    />
                    <p th:errors = "*{birthday}" class="info"
                       th:if="${#fields.hasErrors('birthday')}"></p>
                </div>
                <div class="field">
                    <label for="info">ИНФО</label>
                    <input
                            id="info"
                            name="info"
                            placeholder="Введите info"
                            th:field="*{info}"
                            type="text"
                            pattern="([А-Яёа-я -]+)|([\s]+)"
                    />
                    <p th:errors = "*{info}" class="info"
                       th:if="${#fields.hasErrors('info')}"></p>
                </div>
                <div class="field">
                    <label for="phone">Номер телефона</label>
                    <input
                            id="phone"
                            name="phone"
                            th:field="*{phone}"
                            type="tel"
                            placeholder="+375_________"
                            pattern="\+{1}375(([2]{1}([5]{1}|[9]{1}))|([3]{1}[3]{1})|([4]{1}[4]{1}))[0-9]{3}[0-9]{4}"
                    />
                    <p th:errors = "*{phone}" class="info"
                       th:if="${#fields.hasErrors('phone')}"></p>
                </div>
                <div th:if="${existPhone}">
                    <div class="info">
                        Пользователь с таким номером телефона уже зарегистрирован!
                    </div>
                </div>
                <div th:if="${empty}">
                    <div class="info">
                        Пожалуйста, заполните все поля!
                    </div>
                </div>
                <div th:if="${existingUser}">
                    <div class="info">
                        Пользователь с таким email/телефоном уже существует в системе.
                    </div>
                </div>
                <div th:if="${wrongEmail}">
                    <div class="info">
                        Пожалуйста, введите Email в указанном формате!
                    </div>
                </div>
                <div th:if="${age}">
                    <div class="info">
                        Сотрудниками могут быть только люди, достигшие 18 лет!
                    </div>
                </div>
                <div>
                    <button type="submit">Отредактировать</button>
                </div>
            </form>
            <a style="margin-right: 40px" onclick="history.go(-1)">
                <button>
                    Назад
                </button>
            </a>
        </div>
</div>
<div class="footer">
    <p style="margin: 0 0 0 15px">Chementsova Sasha, 2023</p>
</div>
</body>
</html>